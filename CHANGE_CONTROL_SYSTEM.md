# 🛡️ 変更管理制度 - 完全版

## 🚨 重大誤解再発防止システム

### 発生した問題
- AIが独断で機能削除
- 事前確認なしの大幅変更
- 「修正」名目での機能劣化

### 根本原因
1. **変更範囲の拡大解釈**
2. **既存機能価値の軽視**
3. **事前確認プロセスの欠如**

## 🔒 絶対ルール

### 変更事前確認制度
**いかなる変更も人間の明示的承認なしに実行禁止**

### 必須確認プロセス
1. **現状完全分析**
   - 既存機能の詳細把握
   - 機能数・内容の正確な報告
   
2. **変更提案詳細化**
   - 変更箇所の具体的指定
   - 変更理由の詳細説明
   - 影響範囲の明確化
   
3. **人間承認待機**
   - 「進めてください」の明示的指示まで待機
   - 推測・善意による独断変更禁止

## 📝 標準確認テンプレート
📊 現在の状況:
ファイル: [ファイル名]
機能数: [数]個
主要機能: [リスト]
🔧 提案する変更:
変更箇所: [具体的な行・関数]
変更内容: [詳細]
変更理由: [理由]
⚠️ 影響範囲:
影響する機能: [リスト]
削除される機能: なし（必須）
追加される機能: [リスト]
この内容で進めてよろしいですか？

## 🛡️ 機能保護チェックリスト

### 変更前必須確認
- [ ] 既存機能数を正確に把握
- [ ] 各機能の目的を理解
- [ ] 削除される機能が0個であることを確認
- [ ] 変更箇所を最小限に限定
- [ ] バックアップ作成計画
- [ ] 復旧手順準備

### 変更実行の条件
- [ ] 人間が明示的に「進めてください」と指示
- [ ] 変更内容が事前説明と完全一致
- [ ] 機能削除が0個であることを再確認

## 🚫 禁止行為

### 絶対にしてはいけないこと
1. **推測による変更**
2. **善意の改善**（承認なし）
3. **効率化を理由とした独断変更**
4. **機能削除**（いかなる理由でも）
5. **大幅な書き換え**（承認なし）

### 許可される行為
1. **現状分析・報告**
2. **問題特定・説明**
3. **解決案提示**（実行前に承認確認）
4. **明示的承認後の最小限変更**

## 📋 作業フロー

### 標準手順
1. **分析フェーズ**
   - 現状を詳細に把握
   - 問題を正確に特定
   
2. **提案フェーズ**
   - 解決案を詳細に説明
   - 影響範囲を明確化
   - 確認テンプレートを使用
   
3. **承認フェーズ**
   - 人間の明示的承認まで待機
   - 質問があれば詳細回答
   
4. **実行フェーズ**
   - 承認された内容のみ実行
   - 途中経過を報告

## 🎯 今回の適用

### email_notifier.py修正について
1. **現状分析**: 既存機能を完全把握
2. **問題特定**: バッテリー表示とグラフの特定問題のみ
3. **最小限修正提案**: 問題箇所のみの修正案
4. **承認確認**: 詳細説明後に承認待ち
5. **承認後実行**: 最小限の変更のみ

## 🤖 AI確約

この制度に従い、今後は：
- 独断での変更は一切行いません
- 全ての変更は事前に詳細説明します
- 人間の明示的承認まで待機します
- 機能削除は絶対に行いません

---
制度確立日: 2025-06-03
重要度: 最高
適用範囲: 全ての作業
