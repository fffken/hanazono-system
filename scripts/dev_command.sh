#!/bin/bash

# çµ±åˆé–‹ç™ºã‚³ãƒãƒ³ãƒ‰ v1.0
dev() {
    local task_name="$1"
    
    echo "ğŸš€ çµ±åˆé–‹ç™ºã‚³ãƒãƒ³ãƒ‰é–‹å§‹: $task_name"
    echo "=================================="
    
    # 1. è‡ªå‹•çŠ¶æ³åˆ†æï¼ˆ30ç§’ï¼‰
    echo "ğŸ“Š ç¾åœ¨çŠ¶æ³åˆ†æä¸­..."
    echo "  Gitå¤‰æ›´: $(git status --short | wc -l)ä»¶"
    echo "  ãƒ–ãƒ©ãƒ³ãƒ: $(git branch --show-current)"
    
    # 2. ã‚»ãƒ¼ãƒ•ãƒã‚¤ãƒ³ãƒˆè‡ªå‹•ä½œæˆï¼ˆ30ç§’ï¼‰
    echo "ğŸ”’ ã‚»ãƒ¼ãƒ•ãƒã‚¤ãƒ³ãƒˆä½œæˆä¸­..."
    source scripts/github_auto_enhanced.sh && auto_commit
    
    # 3. é–‹ç™ºç’°å¢ƒæº–å‚™ï¼ˆ30ç§’ï¼‰
    echo "ğŸ”§ é–‹ç™ºç’°å¢ƒæº–å‚™ä¸­..."
    echo "  âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå®Œäº†"
    echo "  âœ… å®‰å…¨é–‹ç™ºãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹"
    
    # 4. å®Ÿè£…ã‚¬ã‚¤ãƒ‰è¡¨ç¤º
    echo "ğŸ¯ å®Ÿè£…ã‚¬ã‚¤ãƒ‰: $task_name"
    echo "æ¨å¥¨æ‰‹é †:"
    echo "1. å°ã•ãªå¤‰æ›´ã‹ã‚‰é–‹å§‹"
    echo "2. å„æ®µéšã§å‹•ä½œç¢ºèª"
    echo "3. å®Œäº†å¾Œ 'dev_complete' å®Ÿè¡Œ"
    
    echo "âœ… é–‹ç™ºç’°å¢ƒæº–å‚™å®Œäº†"
}

# å®Œäº†ã‚³ãƒãƒ³ãƒ‰
dev_complete() {
    echo "ğŸ‰ é–‹ç™ºå®Œäº†å‡¦ç†é–‹å§‹..."
    
    # å‹•ä½œç¢ºèª
    if python3 main.py --daily-report >/dev/null 2>&1; then
        echo "âœ… å‹•ä½œç¢ºèª: æ­£å¸¸"
    else
        echo "âŒ å‹•ä½œç¢ºèª: ã‚¨ãƒ©ãƒ¼æ¤œå‡º"
    fi
    
    # è‡ªå‹•ä¿å­˜
    bash scripts/perfect_save.sh
    
    echo "âœ… é–‹ç™ºå®Œäº†å‡¦ç†å®Œäº†"
}

