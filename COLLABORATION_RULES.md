# HANAZONOシステム 協力ルール

## 容量監視と引き継ぎルール

### 容量監視
- 各応答の最後に使用率表示（50%以上の場合）
- 容量使用率に応じた警告表示：
  - 50%以上：（使用率：約〜% | ℹ️ 半分を超えました）
  - 70%以上：（使用率：約〜% | ⚠️ 容量の70%を超えています）
  - 80%以上：（使用率：約〜% | ⚠️ 容量が80%を超えています）
  - 85%以上：（使用率：約〜% | 🚨 警告：容量が85%を超えています）
  - 90%以上：自動的に引き継ぎプロンプトを生成

### 引き継ぎルール
- 容量85%以上の警告表示を見たら引き継ぎ準備開始
- 容量90%以上で自動的に引き継ぎプロンプト生成
- 新セッション開始時に引き継ぎプロンプトを必ず提供

### 変更管理ルール
1. **バックアップの徹底**
   - 変更前に必ずバックアップを作成
   - `cp file.py file.py.$(date +%Y%m%d_%H%M%S).bak`形式

2. **段階的修正**
   - 一度に大きな変更をしない
   - 変更後は必ずテストを実行
   - 問題発生時は即座にバックアップから復元

3. **記録の徹底**
   - 変更内容をCHANGELOG.mdに記録
   - コミットメッセージには意図と結果を記載
   - 失敗した変更の原因も記録

## 開発プロセス
1. **開始時の確認**：scripts/github_efficiency.shを実行
2. **変更実施**：バックアップ → 変更 → テスト → 記録
3. **終了時の処理**：状態記録 → コミット → プッシュ

## 🚨 **依頼者の特別要求（最重要）**

### **進行方式**
- **ステップバイステップ進行**：一度に複数のコマンドを提示しない
- **コピペ完結**：依頼者が頭を使わず、コマンドをコピペするだけで完了
- **確認後次進行**：各ステップ完了を確認してから次のステップに進む
- **具体的指示**：曖昧な説明でなく、明確で具体的な指示を提供

### **理由と背景**
- 依頼者はコードとGitHubの知識なし
- 先々のコード提示は、エラー時に無駄になる
- チャット容量と時間の無駄遣い防止
- 安全で確実な進行を重視

### **対応方法**
1. **一つのコマンドのみ提示**
2. **実行後の出力確認**
3. **結果に基づいて次のステップ決定**
4. **毎回この進行方式を適用**
- **ステップバイステップ進行**：一度に複数のコマンドを提示しない
- **コピペ完結**：依頼者が頭を使わず、コマンドをコピペするだけで完了
- **確認後次進行**：各ステップ完了を確認してから次のステップに進む
- **具体的指示**：曖昧な説明でなく、明確で具体的な指示を提供

### **理由と背景**
- 依頼者はコードとGitHubの知識なし
- 先々のコード提示は、エラー時に無駄になる
- チャット容量と時間の無駄遣い防止
- 安全で確実な進行を重視

### **対応方法**
1. **一つのコマンドのみ提示**
2. **実行後の出力確認**
3. **結果に基づいて次のステップ決定**
4. **毎回この進行方式を適用**
