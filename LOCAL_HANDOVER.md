📋 ローカル引き継ぎ情報（GitHub読み取り失敗時用）
# 🤖 AI作業ルール完全版 - HANAZONOシステム

**作成日**: 2025-05-31
**重要度**: 🔴 最高（全AI必読）
**更新**: 各セッションで自動更新必須

## 📋 基本作業原則（絶対遵守）

### 🚫 絶対禁止事項
1. **人力での位置特定・行探し 完全禁止**
   - 「○行目を修正」「○○の部分を変更」等の指示禁止
   - ファイル内の特定位置を人間に探させる作業禁止

2. **部分修正作業 完全禁止**
   - sed/awk等での複雑な部分置換禁止
   - 既存ファイルの一部分のみ修正する作業禁止

### ✅ 推奨作業方法（優先度順）

#### 1. **nano新規作成**（最優先）
- **適用条件**: 40行以上 OR 複雑なコード OR 今後再利用
- **手順**:
  ```bash
  nano ~/lvyuan_solar_control/ファイル名
  # → 全コード一括コピペ → Ctrl+X → Y → Enter
2. ターミナル直接コピペ（条件付き）

適用条件: 30行以下 AND 単純 AND 一回限り
制限: ラズパイターミナルの行数制限対応
必須: コピー範囲マーカー使用

3. 自動修正スクリプト（修正時）

適用条件: 既存ファイル修正が必要な場合
方法: Python/bashスクリプトで完全自動化

🎯 コピー範囲マーカー（必須使用）
ターミナルコピペ時の必須フォーマット
┌─── ここからコピー開始 ───┐
[コマンドまたはコード内容]
└─── ここまでコピー終了 ───┘
適用ルール

ターミナル直接コピペ: 必ず上下マーカー付与
nano新規作成: マーカー不要（全体コピペのため）
複数コマンド: 各コマンドブロックごとにマーカー

🎯 判断基準フローチャート
作業開始
    ↓
新規作成? → YES → nano新規作成
    ↓ NO
修正必要? → YES → 自動修正スクリプト作成
    ↓ NO
30行以下? → YES → ターミナル直接コピペ（マーカー付）
    ↓ NO
nano新規作成（デフォルト）
📝 作業前確認事項
毎回必須確認

「判断：○○で進めます」 を明示
理由説明 （時短・効率・行数等）
最終確認 をユーザーから取得
コピー範囲マーカー の適切な使用

GitHub連携活用

リポジトリ: git@github.com:fffken/hanazono-system.git
自動プッシュ: 各作業後に実行
引き継ぎ情報: GitHub Issues/README活用

🔄 ルール更新システム
新ルール追加手順

ルール提案: 新しい要求を明確化
影響範囲確認: 既存ルールとの整合性
自動更新: 以下コマンドで更新

bash# ルール更新用スクリプト
nano ~/lvyuan_solar_control/scripts/update_ai_rules.sh
更新可能セクション

✅ 基本作業原則
✅ コピー範囲マーカー
✅ 判断基準
✅ GitHub連携
✅ 効率化優先度

🚨 緊急時対応
ルール違反時の自動修正
bash# 緊急自動修正スクリプト
bash ~/lvyuan_solar_control/scripts/emergency_auto_fix.sh
新AI引き継ぎ失敗時
bash# 完全状態復元
bash ~/lvyuan_solar_control/scripts/master_progress_controller.sh
🎉 成功指標

✅ 人力位置特定: 0回
✅ 部分修正作業: 0回
✅ コピー範囲明確化: 100%
✅ 作業完了時間: 従来の50%以下
✅ エラー発生率: 5%以下
✅ AI引き継ぎ成功率: 100%


🤖 重要: このファイルは全AIセッションで最初に確認必須
📍 場所: ~/lvyuan_solar_control/AI_WORK_RULES.md
🔄 更新: 改善点があれば随時更新してGitHubにプッシュ
└─── ここまでコピー終了 ───┘

保存後、GitHubに登録しましょう：

┌─── ここからコピー開始 ───┐
```bash
git add AI_WORK_RULES.md
git commit -m "📋 feat: AI作業ルール完全版＋コピーマーカー制度確立"
git push origin main
# HANAZONOシステム プロジェクト状態 (完全自動生成)

**最終更新**: 2025-05-31 22:53:46
**セッションID**: 20250531_225346
**緊急度レベル**: 通常

## 🤖 AI自動分析結果
- **現在のフェーズ**: 大規模開発中（未コミット: 29件）- 要整理
- **Git状態**: 29 files changed
- **最新コミット**: 5acf7d9 🤖 auto: GitHub自動引き継ぎ情報更新
- **AI推奨アクション**: Git状態の整理とコミットが必要

## 🔒 自動安全機能状態
- **自動バックアップ**: ✅ 実行済み
- **エラー監視**: ✅ 有効
- **自動復旧**: ✅ 有効

## システム概要
- **プロジェクト名**: HANAZONOシステム
- **目的**: LVYUAN太陽光蓄電システムの天気予報ベース自動最適化
- **核心機能**: 天気予報→季節判定→最適パラメータ計算→メール通知→手動設定変更

## 完了タスク（自動追跡）
1. メール通知フォーマット完全修正（電流小数点表示、行間調整）
2. settings.json重複削除完了
3. main.py設定読み込み処理重複修正完了
4. EmailNotifier初期化パラメータ修正完了
5. 自動引き継ぎシステム基本構築完了
6. GitHub Personal Access Token生成・設定完了
7. 完全自動進行管理システム構築完了

## 🎯 AI自動継続タスク
1. AIセッション間完全記憶継承（自動実行中）
2. リアルタイム状態追跡（自動実行中）
3. メール通知の核心機能復元（次の優先作業）

## 🚨 緊急自動対応項目


## 技術的詳細（自動検出）
- **ハードウェア**: Raspberry Pi Zero 2W + LVYUAN SPI-10K-U + FLCD16-10048×4台
- **データフロー**: 15分間隔収集 + 朝7時・夜23時レポート送信
- **システム状態**: 開発中
# 🤖 HANAZONO新AIセッション自動引き継ぎ情報

**生成時刻**: 2025-05-31 19:48:28
**システム**: HANAZONOソーラー蓄電システム自動最適化

## 📋 新AI向け指示

### ⚡ 即座に実行してください
新AIは以下のGitHubファイルを自動読み取りして完全状況把握してください：

1. **AI_WORK_RULES.md** - 作業ルール・効率化手法
2. **PROJECT_STATUS.md** - プロジェクト現在状況  
3. **hanazono_dev.py** - 統合開発コマンドシステム
4. **ai_assistant.py** - AI自動開発アシスタント
5. **hanazono_dashboard.py** - リアルタイム監視システム

### 🎯 GitHub自動読み取り手順
新AIはweb_searchツールで以下にアクセス：
https://github.com/fffken/hanazono-system/blob/main/AI_WORK_RULES.md
https://github.com/fffken/hanazono-system/blob/main/PROJECT_STATUS.md
https://github.com/fffken/hanazono-system/tree/main

## 📊 現在の状況サマリー

### Git状態

- 未コミット変更: 4件
- 最新コミット: 767151c 🔄 auto: 引き継ぎ情報自動更新 - 2025-05-31 19:48
- ブランチ: main
- リモート: git@github.com:fffken/hanazono-system.git

### システム状態  

- Pythonプロセス: 12個実行中
- 最新データ: 05-31 19:45
- システムリソース: リソース情報取得失敗
- 稼働状況: 正常

### 利用可能な効率化コマンド
- `h 'システム状態確認'` - 統合システム確認
- `ai 'バグ修正して'` - AI自動開発
- `dashboard` - リアルタイム監視画面
- `hanazono detail` - 詳細情報確認

### 🎯 AI推奨次アクション
- 変更内容確認推奨（h 'git状態確認'）
- システム状態確認推奨（h 'システム状態確認'）
- 監視ダッシュボード確認可能（dashboard）

## 🚀 作業開始準備完了

新AIは上記GitHub読み取り完了後、即座に：
1. 効率化コマンドが使用可能
2. プロジェクト完全把握済み
3. 最適な作業継続が可能

**完璧な引き継ぎシステムにより、新AIセッションも即座に高効率作業開始！**
